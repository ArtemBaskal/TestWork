{"version":3,"sources":["field/FieldFileInput.js","component/AdvForm.js","component/Adv.js","action/index.js","action/type.js","component/AdvList.js","component/App.js","reducer/index.js","reducer/formSubmitReducer.js","reducer/advEditReducer.js","index.js"],"names":["FieldFileInput","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getBase64","file","Promise","resolve","reject","reader","FileReader","onload","result","fileName","name","onerror","error","readAsDataURL","e","console","onChange","bind","assertThisInitialized","state","selectedFile","setState","_this2","target","files","then","base64","input","_this3","react_default","a","createElement","style","display","type","accept","ref","fileInput","className","onClick","preventDefault","click","src","alt","React","Component","maxLength","max","value","length","concat","undefined","maxLength140","maxLength300","required","AdvForm","renderInput","_ref","label","isNecessary","maxCharacters","placeholder","_ref$meta","meta","pristine","active","_this$renderHint","renderHint","message","hasErrorClass","assign","autoComplete","renderSelect","_ref2","children","defaultValue","disabled","hidden","_ref3","touched","hint","_ref4","dirty","valid","_this$props","handleSubmit","submitting","invalid","onSubmit","Field","component","validate","cities","map","city","key","subject","reduxForm","form","enableReinitialize","keepDirtyOnReinitialize","formValues","errors","phone","toString","match","Adv","renderTitle","title","description","onDelete","onEdit","handleFormSubmit","data","payload","handleAdvDelete","handleAdvEdit","formData","AdvList","onItemDelete","onItemEdit","sortedParsedList","values","localStorage","adv","JSON","parse","sort","adv1","adv2","id","alert","log","clear","component_Adv","connect","submittedForms","submitForm","dispatch","bindActionCreators","App","myHandleSubmit","destroy","component_AdvForm","initialValues","component_AdvList","combineReducers","formReducer","arguments","action","Date","valueOf","stringify","objectSpread","defineProperty","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","ReactDOM","render","es","component_App","document","querySelector"],"mappings":"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","file":"static/js/main.9d38a8be.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class FieldFileInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n    this.state = {\n      selectedFile: null,\n      fileName: null\n    };\n  }\n\n  componentWillReceiveProps() {\n    this.setState({ selectedFile: null, fileName: null });\n  }\n\n  onChange(e) {\n    this.getBase64(e.target.files[0]).then(base64 => {\n      this.props.input.onChange(base64.file);\n      this.setState({\n        selectedFile: base64.file,\n        fileName: base64.fileName\n      });\n    });\n  }\n\n  getBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () =>\n        resolve({ file: reader.result, fileName: file.name });\n      reader.onerror = error => reject(error);\n      try {\n        reader.readAsDataURL(file);\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <input\n          style={{ display: \"none\" }}\n          type=\"file\"\n          accept=\".jpg, .png, .jpeg\"\n          onChange={this.onChange}\n          ref={fileInput => (this.fileInput = fileInput)}\n        />\n        <button\n          className=\"button-photo-select\"\n          onClick={e => {\n            e.preventDefault();\n            return this.fileInput.click();\n          }}\n        >\n          <i className=\"fas fa-paperclip\" />\n          {\" Прикрепить фото\"}\n        </button>\n        <div className=\"add-photo-container\">\n          {this.state.selectedFile && (\n            <img className=\"img-photo\" src={this.state.selectedFile} alt=\"\" />\n          )}\n          <div className=\"fileName-img-delete-container\">\n            <label className=\"label-fileName\">{this.state.fileName}</label>\n            {this.state.fileName && (\n              <label\n                className=\"label-img-delete\"\n                onClick={() => {\n                  this.setState({ selectedFile: null, fileName: null });\n                }}\n              >\n                Удалить\n              </label>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport cities from \"../api/cities.json\";\nimport \"../style/AdvForm.css\";\nimport FieldFileInput from \"../field/FieldFileInput\";\n\nconst maxLength = max => value =>\n  value && value.length > max ? `Не более ${max} символов` : undefined;\nconst maxLength140 = maxLength(140);\nconst maxLength300 = maxLength(300);\n\nconst required = value => (value ? undefined : \"Обязательное поле\");\n\nclass AdvForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedFile: null,\n      fileName: null\n    };\n  }\n\n  renderHint(isNecessary, { active, pristine, touched, error }) {\n    const hint = { message: null, src: \"\" };\n    if (isNecessary && !active && pristine && !touched) {\n      hint.message = \"Обязательное поле\";\n      hint.src =\n        \"https://cdn.zeplin.io/5bbcbd7440563d18f3502b98/assets/39AF4416-C34B-451B-8D7D-E92AF54A4AB1.svg\";\n    }\n    if (touched && error) {\n      hint.message = error;\n      hint.src =\n        \"https://cdn.zeplin.io/5bbcbd7440563d18f3502b98/assets/E640808D-48DF-47AB-82CB-73C355872D3E.svg\";\n    }\n    if (!active && pristine && touched) {\n      hint.message = \"Заполните поле\";\n      hint.src =\n        \"https://cdn.zeplin.io/5bbcbd7440563d18f3502b98/assets/0BA349E6-F5AB-4D98-A0F2-3F51DC1C339F.svg\";\n    }\n    if (!active && !pristine && touched && !error) {\n      hint.message = \"Заполнено\";\n      hint.src =\n        \"https://cdn.zeplin.io/5bbcbd7440563d18f3502b98/assets/4C69211C-656D-4046-BDB1-231BEDB22781.svg\";\n    }\n    return hint;\n  }\n\n  hasErrorClass({ touched, dirty, valid, active }) {\n    if (valid && !active && dirty && touched) return \"filled\";\n    if (touched) return \"error\";\n    if (valid && dirty) return \"\";\n    if (dirty) return null;\n    return \"\";\n  }\n\n  renderInput = ({\n    input,\n    label,\n    isNecessary,\n    maxCharacters,\n    placeholder,\n    type,\n    meta: { pristine, active },\n    meta\n  }) => {\n    const { message, src } = this.renderHint(isNecessary, meta);\n\n    return (\n      <div className={`${label} ${this.hasErrorClass(meta)}`}>\n        <label className=\"form-label label-font\">{label}</label>\n        <div className={`hint-rigth ${this.hasErrorClass(meta)}`}>\n          <label className={`label-hint-font ${this.hasErrorClass(meta)}`}>\n            {<img className=\"img-hint\" src={src} alt=\"\" />}\n            {message}\n          </label>\n          {maxCharacters && !active && pristine && (\n            <label className={`char-limit ${label}`}>\n              {/* {label === \"Текст объявления\" && (\n                <img\n                  className=\"img-hint\"\n                  src=\"https://cdn.zeplin.io/5bbcbd7440563d18f3502b98/assets/39AF4416-C34B-451B-8D7D-E92AF54A4AB1.svg\"\n                />\n              )} */}\n              Не более {maxCharacters} символов\n            </label>\n          )}\n        </div>\n        {label !== \"Текст объявления\" && (\n          <input\n            {...input}\n            type={type}\n            placeholder={placeholder}\n            autoComplete=\"off\"\n            className=\"form-input\"\n          />\n        )}\n        {label === \"Текст объявления\" && (\n          <textarea className=\"textarea-input\" {...input} />\n        )}\n      </div>\n    );\n  };\n\n  renderSelect = ({ label, children, type, input }) => {\n    return (\n      <div>\n        <label className=\"label-font\" type={type}>\n          {label}\n        </label>\n        <select {...input} className=\"search dropdown-cities\">\n          <option value=\"\" defaultValue disabled hidden />\n          {children}\n        </select>\n      </div>\n    );\n  };\n\n  render() {\n    const { handleSubmit, submitting, invalid, pristine } = this.props;\n    return (\n      <form onSubmit={handleSubmit} className=\"form-submit error\">\n        <h1 className=\"main-title\">Подать объявление</h1>\n        <Field\n          name=\"title\"\n          type=\"text\"\n          component={this.renderInput}\n          label=\"Заголовок\"\n          validate={[maxLength140, required]}\n          isNecessary\n          maxCharacters={140}\n        />\n        <Field\n          name=\"description\"\n          type=\"text\"\n          component={this.renderInput}\n          label=\"Текст объявления\"\n          validate={maxLength300}\n          maxCharacters={300}\n        />\n        <Field\n          name=\"phone\"\n          type=\"text\"\n          component={this.renderInput}\n          label=\"Телефон\"\n          validate={required}\n          isNecessary\n          placeholder=\"+7 (___) ___ - __ - __\"\n        />\n        <Field\n          name=\"city\"\n          type=\"text\"\n          component={this.renderSelect}\n          label=\"Город\"\n        >\n          {cities.map(city => (\n            <option\n              label={city.name}\n              key={city.name + \" \" + city.subject}\n              value={city.name}\n              className=\"city-option\"\n            >\n              {city.name}\n            </option>\n          ))}\n        </Field>\n        <Field\n          name=\"file\"\n          type=\"file\"\n          component={FieldFileInput}\n          label=\"Файл\"\n        />\n        <button\n          type=\"submit\"\n          disabled={invalid || pristine || submitting}\n          className=\"ui button-submit\"\n        >\n          Подать\n        </button>\n      </form>\n    );\n  }\n}\n\nconst validate = formValues => {\n  const errors = {};\n  const regExp = /^((\\+7) \\(([0-9]){3}\\) [0-9]{3}-[0-9]{2}-[0-9]{2})$/;\n  if (formValues.phone && !formValues.phone.toString().match(regExp)) {\n    errors.phone = \"Неверный формат\";\n  }\n\n  return errors;\n};\n\nexport default reduxForm({\n  form: \"inputForm\",\n  enableReinitialize: true,\n  keepDirtyOnReinitialize: true,\n  validate\n})(AdvForm);\n","import React from \"react\";\nimport { reduxForm } from \"redux-form\";\nimport \"../style/Adv.css\";\n\nclass Adv extends React.Component {\n  renderTitle = ({ title, input }) => {\n    input.value = title;\n    return (\n      <div>\n        <input type=\"text\" {...input} />\n      </div>\n    );\n  };\n\n  render() {\n    const {\n      title,\n      description,\n      phone,\n      city,\n      src,\n      onDelete,\n      onEdit\n    } = this.props;\n    return (\n      <div>\n        <div className=\"font-adv test adv-item-container\">\n          <div className=\"left-row-adv-item\">\n            <div className=\"title-adv\">{title}</div>\n            <div className=\"description-adv\">{description || \"Описание\"}</div>\n            <img\n              className=\"img-adv\"\n              src={\n                src ||\n                \"https://cdn4.iconfinder.com/data/icons/oakcons-2/16/Image-512.png\"\n              }\n              alt={title}\n            />\n          </div>\n          <div className=\"right-row-adv-item\">\n            <div>\n              <img\n                className=\"img-icon\"\n                src=\"https://cdn.zeplin.io/5bbcbd7440563d18f3502b98/assets/D2450FB5-1158-4670-B3C1-330C2A443FC2.svg\"\n                alt=\"\"\n              />\n              {phone}\n            </div>\n            <div>\n              <img\n                className=\"img-icon\"\n                src=\"https://cdn.zeplin.io/5bbcbd7440563d18f3502b98/assets/D53DE6FC-2314-4E52-A2EE-24D2B3D09AB1.svg\"\n                alt=\"\"\n              />\n              {city || \"Город\"}\n            </div>\n            <div className=\"adv-buttons\">\n              <button\n                className=\"button-adv button-edit\"\n                onClick={e => {\n                  e.preventDefault();\n                  onDelete(title);\n                  return onEdit({\n                    title,\n                    description,\n                    phone,\n                    city,\n                    src\n                  });\n                }}\n              >\n                Редактировать\n              </button>\n              <button\n                className={\"button-adv button-delete\"}\n                onClick={e => {\n                  e.preventDefault();\n                  return onDelete(title);\n                }}\n              >\n                Удалить\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default reduxForm({\n  form: \"advForm\"\n})(Adv);\n","import { FORM_SUBMIT, ADV_DELETE, ADV_EDIT } from \"./type\";\n\nexport const handleFormSubmit = data => {\n  return {\n    type: FORM_SUBMIT,\n    payload: data\n  };\n};\n\nexport const handleAdvDelete = title => {\n  return {\n    type: ADV_DELETE,\n    title\n  };\n};\n\nexport const handleAdvEdit = formData => {\n  return {\n    type: ADV_EDIT,\n    payload: formData\n  };\n};\n","export const FORM_SUBMIT = \"FORM_SUBMIT\";\nexport const ADV_DELETE = \"ADV_DELETE\";\nexport const ADV_EDIT = \"ADV_EDIT\";\n","import React from \"react\";\nimport Adv from \"./Adv\";\nimport { connect } from \"react-redux\";\nimport { handleAdvDelete, handleAdvEdit } from \"../action\";\nimport { bindActionCreators } from \"redux\";\nimport \"../style/AdvList.css\";\n\nclass AdvList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onItemDelete = this.onItemDelete.bind(this);\n    this.onItemEdit = this.onItemEdit.bind(this);\n  }\n\n  onItemDelete(title) {\n    this.props.handleAdvDelete(title);\n  }\n\n  onItemEdit(formData) {\n    this.props.handleAdvEdit(formData);\n  }\n\n  render() {\n    //В localStorage данные хранятся в случайном порядке, поэтому сортирует их по убыванию ID\n    let sortedParsedList;\n    try {\n      sortedParsedList = Object.values(localStorage)\n        .map(adv => {\n          return JSON.parse(adv);\n        })\n        .sort((adv1, adv2) => adv2.id - adv1.id);\n    } catch (e) {\n      alert(\n        \"Ошибка! Неверный формат элемента (нестроковый тип) в localStorage. Оно будет очищено.\"\n      );\n      console.log(e);\n      localStorage.clear();\n      sortedParsedList = [];\n    }\n    return (\n      <div className=\"adv\">\n        <h1 className=\"adv-title\">Объявление</h1>\n        {sortedParsedList.map(adv => {\n          return (\n            <Adv\n              key={adv.title}\n              title={adv.title}\n              description={adv.description || null}\n              phone={adv.phone}\n              city={adv.city || null}\n              src={adv.file || null}\n              onDelete={this.onItemDelete}\n              onEdit={this.onItemEdit}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return { submittedForms: state.submitForm };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      handleAdvDelete,\n      handleAdvEdit\n    },\n    dispatch\n  );\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AdvList);\n","import React from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { reduxForm } from \"redux-form\";\nimport AdvForm from \"./AdvForm\";\nimport AdvList from \"./AdvList\";\nimport \"../style/App.css\";\nimport { handleFormSubmit } from \"../action\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.myHandleSubmit = this.myHandleSubmit.bind(this);\n  }\n  myHandleSubmit(formData) {\n    const { handleFormSubmit, destroy } = this.props;\n    handleFormSubmit(formData);\n    destroy(\"inputForm\");\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <AdvForm\n          onSubmit={this.myHandleSubmit}\n          initialValues={this.props.initialValues}\n        />\n        <AdvList />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    initialValues: state.formData\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      handleFormSubmit,\n      destroy: reduxForm.destroy\n    },\n    dispatch\n  );\n};\n\nApp = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n\nexport default reduxForm({\n  form: \"inputForm\",\n  enableReinitialize: true,\n})(App);\n","import { combineReducers } from \"redux\";\nimport { reducer as formReducer } from \"redux-form\";\nimport formSubmitReducer from \"./formSubmitReducer\";\nimport advEditReducer from \"./advEditReducer\";\n\nexport default combineReducers({\n  form: formReducer,\n  submitForm: formSubmitReducer,\n  formData: advEditReducer\n});\n","import { FORM_SUBMIT, ADV_DELETE } from \"../action/type\";\n\nexport default (state = {}, action) => {\n  let id = new Date().valueOf();\n  if (action.type === FORM_SUBMIT) {\n    if (!action.payload.title && !action.payload.phone) return state;\n\n    action.payload.id = id++;\n\n    try {\n      localStorage[action.payload.title] = JSON.stringify(action.payload);\n    } catch (e) {\n      console.error(e);\n      alert(\"Ошибка! В localStorage превышен лимит 5 Мбайт, оно будет очищено.\");\n      localStorage.clear();\n    }\n    return { ...state, [action.payload.title]: action.payload };\n  }\n  if (action.type === ADV_DELETE) {\n    delete localStorage[action.title];\n    return { ...state, [action.title]: null };\n  }\n\n  return state;\n};\n","import { ADV_EDIT } from \"../action/type\";\n\nexport default (state = {}, action) => {\n  if (action.type === ADV_EDIT) {\n    let payload = action.payload;\n    return { ...state, ...payload };\n  }\n  return state;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, compose } from \"redux\";\n\nimport App from \"./component/App\";\nimport reducer from \"./reducer\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducer, composeEnhancers());\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}